<!-- -*- tab-width: 4; -*- -->

<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Advantage and disadvantage</title>
  <link rel="stylesheet" href="../css/default.css" />
  <link rel="stylesheet" href="../css/syntax.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="icon" type="image/png" href="../images/favicon.png">
  
</head>

<body>
  <header>
    <div class="header-page">
      <span class="header-page-link">
        <svg class="logo" data-name="Lab notes - logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 726 726" data-href="/" xmlns:xlink="http://www.w3.org/1999/xlink">
  <a xlink:href="/">
    <rect id="link-fill" stroke="none" width="726" height="726" rx="47.41" ry="47.41"></rect>
  </a>

  <title>Advantage and disadvantage</title>

  <rect id="bg" width="726" height="726" rx="47.41" ry="47.41"></rect>

  <g>
    <path id="letter" d="M1533.7,1732.64c-9.79-25.5-19.58-51-28.48-81.14h-4.45c-6.23,24.73-17.8,53.32-27.59,78.82l-88.1,216.38h-81.87L1459,1600.49c3.56-8.5,5.34-13.91,5.34-17.77,0-4.64-1.78-11.59-6.23-20.87-27.59-65.68-59.62-117.46-112.12-117.46a105.24,105.24,0,0,0-15.13.77l7.12-52.55c7.12-2.32,19.58-3.09,30.26-3.09,84.54,0,124.58,70.32,170.85,177l164.62,380.2h-82.76Z" transform="translate(-1144 -1314)"></path>
  </g>
</svg>

      </span>

      <h1>Advantage and disadvantage</h1>
    </div>
  </header>

  <main role="main">
    <article>
    <section class="header">
        Posted on January  7, 2024
        
    </section>
    <section>
        <p>Let’s talk Dungeons &amp; Dragons!
I’ve been spending a bit of time with Baldur’s Gate 3, rolling dice, passing and failing checks.
Usually, to do an <strong>ability check</strong> you roll a 20-sided die (<code>d20</code>), compare what you rolled with a <em>difficulty class</em> (DC) of the check, and if it’s greater than or equal to the DC — you succeed the check, otherwise you fail.</p>
<p><img src="../images/posts/advantage/DieRoll.png" alt="Die roll" width="70%" /></p>
<p>But what if you roll the die <strong>two</strong> times and then pick either the higher or the lower number?
This is called respectively an <strong>advantage</strong> and <strong>disadvantage</strong> in D&amp;D.
It feels that the effects of advantage and disadvantage on the chance of success should be similar.
Yet, it couldn’t be further from the truth!<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<!-- <video controls src="/images/posts/advantage/ProbAll.mp4" -->
<!--                 poster="/images/posts/advantage/ProbAll.png"/> -->
<!--more-->
<h2 id="probabilities">Probabilities</h2>
<p>Let’s abstract from a physical die and imagine that a one-shot chance of succeeding a check is <span class="math inline">\(p \in [0,1]\)</span>. In other words, <span class="math inline">\(\mathbb{P}(\mathrm{success})_\mathrm{default}=p\)</span> which gives us a nice straight-line chart.</p>
<video controls src="../images/posts/advantage/Prob1.mp4" poster="../images/posts/advantage/Prob1.png"></video>
<p>Now, let’s consider what happens when we add the <strong>advantage</strong>. You fail a check <em>with advantage</em> when you fail your one-shot checks both times. Success is a complementary event, which means that</p>
<p><span class="math display">\[
\mathbb{P}(\mathrm{success})_\mathrm{adv} = 1 - (1 - p)^2 = 2p - p^2
\]</span></p>
<p>Since <span class="math inline">\(2p \geq p^2\)</span> when <span class="math inline">\(p \in [0,1]\)</span>, you get a nice boost to your chance of success.
This can be illustrated with the following chart:</p>
<video controls src="../images/posts/advantage/Prob2.mp4" poster="../images/posts/advantage/Prob2.png"></video>
<p>Finally, when it comes to <strong>disadvantage</strong>, you succeed only when you succeed both your one-shot checks which gives us:</p>
<p><span class="math display">\[
\mathbb{P}(\mathrm{success})_\mathrm{dis} = p^2
\]</span></p>
<video controls src="../images/posts/advantage/Prob3.mp4" poster="../images/posts/advantage/Prob3.png"></video>
<p>The charts for <strong>advantage</strong> and <strong>disadvantage</strong> look <em>somewhat</em> symmetrical.
What the fuss is about?</p>
<h2 id="relative-effect">Relative effect</h2>
<p>Things start to get interesting when we look at the <em>relative</em> effects of advantage and disadvantage<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<p>First, let’s look at the change in the chance of success relative to the <em>one-shot</em> chance of success:</p>
<p><span class="math display">\[
\mathbb{P}(\mathrm{success})_\mathrm{adv} / p = 2 - p
\]</span></p>
<p>The improvement that comes from the <em>advantage</em> is clamped between <span class="math inline">\(1\)</span> and <span class="math inline">\(2\)</span>, which is a nice bump but nothing extraodinary.
Exactly, as you would expect from a mature game system.</p>
<video controls src="../images/posts/advantage/ProbUpside.mp4" poster="../images/posts/advantage/ProbUpside.png"></video>
<p>Now, let’s look at the effect of the disadvantage, in particular at <em>how much worse things get with disadvantage compared to the one-shot probability</em>.</p>
<p><span class="math display">\[
p / \mathbb{P}(\mathrm{success})_\mathrm{dis} = p / p^2 = 1/p
\]</span></p>
<p>Just by looking at this formula, it’s clear that things are not looking good. And even more so the smaller <span class="math inline">\(p\)</span> is!</p>
<video controls src="../images/posts/advantage/ProbDownside.mp4" poster="../images/posts/advantage/ProbDownside.png"></video>
<p>Plotting these charts side-by-side, there’s much less symmetry than originally anticipated:</p>
<video controls src="../images/posts/advantage/ProbUpDownSide.mp4" poster="../images/posts/advantage/ProbUpDownSide.png"></video>
<h2 id="conclusion">Conclusion</h2>
<p>In the best/worst-case scenario, when a one-shot chance of success is <span class="math inline">\(1\)</span> out of <span class="math inline">\(20\)</span>, having <strong>advantage</strong> would <em>almost</em> double your chances, but with <strong>disadvantage</strong> you’d be <span class="math inline">\(20\)</span> times less likely to succeed!</p>
<p>This is an interesting asymmetry in what — at first glance — supposed to be symmetric game mechanics.
Can’t say that I learned something useful outside of the world of Dungeons &amp; Dragons, but next time I play Baldur’s Gate 3, I’ll more seriously consider picking <em>disadvantage</em>-inducing spells to debuff enemies rather than just throwing fireballs at them.</p>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>The animated charts were produced with <a href="https://github.com/3b1b/manim">manim</a> library.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Just don’t mind the case when <span class="math inline">\(p = 0\)</span> which is not particularly interesting but would complicate the formulas.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
    </section>
</article>

  </main>

  <footer>
    <nav class="footer-nav">

      <a class="footer-nav-item" href="../">
        <span class="fa fa-home fa-lg"></span>
      </a>

      <a class="footer-nav-item" href="https://github.com/artempyanykh">
        <span class="fa fa-github fa-lg"></span>
      </a>

      <a class="footer-nav-item" href="https://ru.linkedin.com/in/artempyanykh/en">
        <span class="fa fa-linkedin fa-lg"></span>
      </a>

      <a class="footer-nav-item" href="https://twitter.com/artem_pyanykh">
        <span class="fa fa-twitter fa-lg"></span>
      </a>

      <a class="footer-nav-item" href="../about.html">
        <span class="fa fa-question fa-lg"></span>
      </a>
    </nav>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>

</body>

</html>